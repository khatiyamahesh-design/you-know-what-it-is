<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy New Year âœ¨</title>

<script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>

<style>
html,body{
  margin:0;
  height:100%;
  background:#070710;
  font-family:'Poppins',system-ui,sans-serif;
  overflow:hidden;
  color:#fff;
}

.scene{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  opacity:0;
  pointer-events:none;
}

.scene.active{
  opacity:1;
}

h1{
  font-size:44px;
  margin:8px 0;
  text-align:center;
}

p{
  font-size:18px;
  opacity:.85;
  text-align:center;
}

.glow{
  text-shadow:0 0 25px rgba(255,180,80,.9);
}

.light{
  position:absolute;
  width:8px;
  height:8px;
  border-radius:50%;
  background:gold;
}

canvas{
  position:absolute;
  inset:0;
}
</style>
</head>

<body>

<!-- SCENES -->
<div class="scene active" id="s1">
  <p>I made something smallâ€¦</p>
</div>

<div class="scene" id="s2">
  <h1 class="glow" id="name"></h1>
</div>

<div class="scene" id="s3">
  <p>Festival lights are coming alive ðŸª”</p>
</div>

<div class="scene" id="s4">
  <p>Just enjoy âœ¨</p>
</div>

<div class="scene" id="s5">
  <p>And here we goâ€¦</p>
</div>

<div class="scene" id="s6">
  <canvas id="fx"></canvas>
  <h1 class="glow">ðŸŽ† HAPPY NEW YEAR ðŸŽ†</h1>
  <h1 class="glow">Rii</h1>
  <p>
    May this year be bright,<br>
    full of good moments,<br>
    and festival energy all around ðŸª”
  </p>
</div>

<script>
const scenes = document.querySelectorAll(".scene");
let index = 0;

/* Helper */
function show(i){
  scenes.forEach(s=>s.classList.remove("active"));
  scenes[i].classList.add("active");
}

/* TIMELINE FLOW */
const tl = gsap.timeline();

tl.to("#s1", {opacity:1, duration:1})
  .to("#s1", {opacity:0, duration:.6, delay:1})

  .call(()=>show(1))
  .call(nameReveal)
  .to("#s2", {opacity:1, duration:1})
  .to("#s2", {opacity:0, duration:.6, delay:1})

  .call(()=>show(2))
  .call(lights)
  .to("#s3", {opacity:1, duration:1})
  .to("#s3", {opacity:0, duration:.6, delay:1.2})

  .call(()=>show(3))
  .to("#s4", {opacity:1, duration:1})
  .to("#s4", {opacity:0, duration:.6, delay:1})

  .call(()=>show(4))
  .to("#s5", {opacity:1, duration:1})
  .to("#s5", {opacity:0, duration:.6, delay:1})

  .call(()=>show(5))
  .call(festival)
  .to("#s6", {opacity:1, duration:1.5});

function nameReveal(){
  const text="Hey Rii âœ¨";
  const el=document.getElementById("name");
  el.textContent="";
  let i=0;
  const t=setInterval(()=>{
    el.textContent+=text[i++];
    if(i===text.length) clearInterval(t);
  },120);
}

function lights(){
  for(let i=0;i<30;i++){
    const d=document.createElement("div");
    d.className="light";
    d.style.left=Math.random()*100+"vw";
    d.style.top=Math.random()*100+"vh";
    d.style.background=`hsl(${Math.random()*50+20},90%,60%)`;
    document.body.appendChild(d);
    gsap.to(d,{
      y:-120,
      repeat:-1,
      duration:Math.random()*4+3,
      ease:"sine.inOut"
    });
  }
}

function festival(){
  const c=document.getElementById("fx");
  const ctx=c.getContext("2d");
  c.width=innerWidth;
  c.height=innerHeight;
  const p=[];

  function burst(x,y){
    for(let i=0;i<40;i++){
      p.push({
        x,y,
        vx:(Math.random()-.5)*6,
        vy:(Math.random()-.5)*6,
        life:80,
        col:`hsl(${Math.random()*50+20},90%,60%)`
      });
    }
  }

  setInterval(()=>burst(Math.random()*c.width,Math.random()*c.height*.6),900);
  c.onclick=e=>burst(e.clientX,e.clientY);

  function draw(){
    ctx.fillStyle="rgba(7,7,16,.25)";
    ctx.fillRect(0,0,c.width,c.height);
    p.forEach((o,i)=>{
      o.x+=o.vx;o.y+=o.vy;o.life--;
      ctx.fillStyle=o.col;
      ctx.fillRect(o.x,o.y,3,3);
      if(o.life<=0)p.splice(i,1);
    });
    requestAnimationFrame(draw);
  }
  draw();
}
</script>

</body>
</html>
